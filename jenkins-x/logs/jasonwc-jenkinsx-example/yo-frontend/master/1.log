
Showing logs for build [32mjasonwc-jenkinsx-example-yo-fro-1[0m stage [32mmeta-pipeline[0m and container [32mstep-credential-initializer-69vhw[0m
{"level":"warn","ts":1567549681.3205402,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/master\" is not a valid GitHub commit ID"}
{"level":"info","ts":1567549681.321218,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32mjasonwc-jenkinsx-example-yo-fro-1[0m stage [32mmeta-pipeline[0m and container [32mstep-working-dir-initializer-bsqbt[0m
{"level":"warn","ts":1567549682.331787,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1567549682.3334315,"logger":"fallback-logger","caller":"bash/main.go:65","msg":"Successfully executed command \"mkdir -p /workspace/source\""}

Showing logs for build [32mjasonwc-jenkinsx-example-yo-fro-1[0m stage [32mmeta-pipeline[0m and container [32mstep-place-tools[0m

Showing logs for build [32mjasonwc-jenkinsx-example-yo-fro-1[0m stage [32mmeta-pipeline[0m and container [32mstep-git-source-meta-jasonwc-jenkinsx-example-y-62h7w[0m
{"level":"warn","ts":1567549688.4170136,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/master\" is not a valid GitHub commit ID"}
{"level":"info","ts":1567549688.568086,"logger":"fallback-logger","caller":"git/git.go:102","msg":"Successfully cloned https://github.com/jasonwc-jenkinsx-example/yo-frontend.git @ a34ce4f3bc60188b0dc7334c9d3fe4d135ec413c in path /workspace/source"}

Showing logs for build [32mjasonwc-jenkinsx-example-yo-fro-1[0m stage [32mmeta-pipeline[0m and container [32mstep-git-merge[0m
Using SHAs from PULL_REFS=master:a34ce4f3bc60188b0dc7334c9d3fe4d135ec413c
WARNING: no SHAs to merge, falling back to initial cloned commit

Showing logs for build [32mjasonwc-jenkinsx-example-yo-fro-1[0m stage [32mmeta-pipeline[0m and container [32mstep-merge-pull-refs[0m
SKIP merge-pull-refs: Nothing to merge

Showing logs for build [32mjasonwc-jenkinsx-example-yo-fro-1[0m stage [32mmeta-pipeline[0m and container [32mstep-create-effective-pipeline[0m
Deleting and cloning the Jenkins X versions repo
Cloning the Jenkins X versions repo https://github.com/jenkins-x/jenkins-x-versions.git with ref refs/heads/master to /builder/home/.**/jenkins-x-versions
Effective pipeline written to jenkins-x-effective.yml

Showing logs for build [32mjasonwc-jenkinsx-example-yo-fro-1[0m stage [32mmeta-pipeline[0m and container [32mstep-create-tekton-crds[0m
running command: echo \$(**-release-version) > VERSION

running command: ** step tag --version \$(cat VERSION)
Updating chart version in charts/yo-frontend/Chart.yaml to 0.0.1
Updating repository in charts/yo-frontend/values.yaml to 000360016411.dkr.ecr.us-west-2.amazonaws.com/jasonwc-jenkinsx-example/yo-frontend
Updating tag in charts/yo-frontend/values.yaml to 0.0.1
Tag v0.0.1 created and pushed to remote origin

WARNING: failed to find secret kaniko-secret in namespace **: secrets "kaniko-secret" not found
PipelineActivity for jasonwc-jenkinsx-example-yo-frontend-master-1
Applying changes 
upserted PipelineResource jasonwc-jenkinsx-example-yo-fro for the git repository https://github.com/jasonwc-jenkinsx-example/yo-frontend.git
upserted Task jasonwc-jenkinsx-example-yo-fro-from-build-pack-1
upserted Pipeline jasonwc-jenkinsx-example-yo-fro-1
created PipelineRun jasonwc-jenkinsx-example-yo-fro-1
created PipelineStructure jasonwc-jenkinsx-example-yo-fro-1

Showing logs for build [32mjasonwc-jenkinsx-example-yo-fro-1[0m stage [32mfrom-build-pack[0m and container [32mstep-credential-initializer-4hf7p[0m
{"level":"warn","ts":1567549695.4510531,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/master\" is not a valid GitHub commit ID"}
{"level":"info","ts":1567549695.451327,"logger":"fallback-logger","caller":"creds-init/main.go:40","msg":"Credentials initialized."}

Showing logs for build [32mjasonwc-jenkinsx-example-yo-fro-1[0m stage [32mfrom-build-pack[0m and container [32mstep-working-dir-initializer-tpkxp[0m
{"level":"warn","ts":1567549696.4426441,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: open /var/run/ko/HEAD: no such file or directory"}
{"level":"info","ts":1567549696.4461727,"logger":"fallback-logger","caller":"bash/main.go:65","msg":"Successfully executed command \"mkdir -p /workspace/source /workspace/source/charts/yo-frontend\""}

Showing logs for build [32mjasonwc-jenkinsx-example-yo-fro-1[0m stage [32mfrom-build-pack[0m and container [32mstep-place-tools[0m

Showing logs for build [32mjasonwc-jenkinsx-example-yo-fro-1[0m stage [32mfrom-build-pack[0m and container [32mstep-git-source-jasonwc-jenkinsx-example-yo-fro-wjn5f[0m
{"level":"warn","ts":1567549724.5230362,"logger":"fallback-logger","caller":"logging/config.go:69","msg":"Fetch GitHub commit ID from kodata failed: \"ref: refs/heads/master\" is not a valid GitHub commit ID"}
{"level":"info","ts":1567549724.6793456,"logger":"fallback-logger","caller":"git/git.go:102","msg":"Successfully cloned https://github.com/jasonwc-jenkinsx-example/yo-frontend.git @ v0.0.1 in path /workspace/source"}

Showing logs for build [32mjasonwc-jenkinsx-example-yo-fro-1[0m stage [32mfrom-build-pack[0m and container [32mstep-git-merge[0m
Using SHAs from PULL_REFS=master:a34ce4f3bc60188b0dc7334c9d3fe4d135ec413c
WARNING: no SHAs to merge, falling back to initial cloned commit

Showing logs for build [32mjasonwc-jenkinsx-example-yo-fro-1[0m stage [32mfrom-build-pack[0m and container [32mstep-setup-jx-git-credentials[0m
Generated Git credentials file /workspace/xdg_config/git/credentials

Showing logs for build [32mjasonwc-jenkinsx-example-yo-fro-1[0m stage [32mfrom-build-pack[0m and container [32mstep-build-npmrc[0m
WARNING: failed to find Secret npm-token in namespace **

Showing logs for build [32mjasonwc-jenkinsx-example-yo-fro-1[0m stage [32mfrom-build-pack[0m and container [32mstep-build-npm-install[0m

> core-js@2.6.9 postinstall /workspace/source/node_modules/babel-runtime/node_modules/core-js
> node scripts/postinstall || echo "ignore"

[96mThank you for using core-js ([94m https://github.com/zloirock/core-js [96m) for polyfilling JavaScript standard library![0m

[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: [0m
[96m>[94m https://opencollective.com/core-js [0m
[96m>[94m https://www.patreon.com/zloirock [0m

[96mAlso, the author of core-js ([94m https://github.com/zloirock [96m) is looking for a good job -)[0m


> core-js@3.1.4 postinstall /workspace/source/node_modules/core-js
> node scripts/postinstall || echo "ignore"

[96mThank you for using core-js ([94m https://github.com/zloirock/core-js [96m) for polyfilling JavaScript standard library![0m

[96mThe project needs your help! Please consider supporting of core-js on Open Collective or Patreon: [0m
[96m>[94m https://opencollective.com/core-js [0m
[96m>[94m https://www.patreon.com/zloirock [0m

[96mAlso, the author of core-js ([94m https://github.com/zloirock [96m) is looking for a good job -)[0m

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.9 (node_modules/jest-haste-map/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.9: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@1.2.9 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@1.2.9: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@2.0.7 (node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.0.7: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

added 1435 packages from 685 contributors and audited 903611 packages in 18.943s
found 0 vulnerabilities


Showing logs for build [32mjasonwc-jenkinsx-example-yo-fro-1[0m stage [32mfrom-build-pack[0m and container [32mstep-build-npm-test[0m

> yo-frontend@0.1.0 test /workspace/source
> react-scripts test

FAIL src/App.test.js
  ● Test suite failed to run

    TypeError: Cannot read property 'API_URL' of undefined

      1 | const settings = {
    > 2 |   API_URL: window.env.API_URL
        |                       ^
      3 | }
      4 | 
      5 | export default settings;

      at Object.API_URL (src/config.js:2:23)
      at Object.<anonymous> (src/App.js:3:1)
      at Object.<anonymous> (src/App.test.js:3:1)

Test Suites: 1 failed, 1 total
Tests:       0 total
Snapshots:   0 total
Time:        1.461s
Ran all test suites.
npm ERR! Test failed.  See above for more details.
[31m
Pipeline failed on stage 'from-build-pack' : container 'step-build-npm-test'. The execution of the pipeline has stopped.[0m
